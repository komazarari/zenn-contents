---
title: ""
emoji: "ğŸ“˜"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Perforce", "Security", "SSO", "AzureAD"]
published: false
---

## å‡ºã¦ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹
- Perforce Helix Core (Core ã‚µãƒ¼ãƒ, p4d)
- Helix Authentication Service (HAS)
- Azure AD

## æº–å‚™
- Azure AD ã®åˆ©ç”¨ç’°å¢ƒ
- Helix Core ã‚µãƒ¼ãƒ(p4d)ã¯å‹•ã„ã¦ã„ã‚‹ã‚‚ã®ã¨ã™ã‚‹
- HAS ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æ±ºã‚ã‚‹
  - ã“ã“ã§ã¯ https://my-has-svc.example.com ã‚’ä½¿ã†ã‚‚ã®ã¨ã™ã‚‹. ä»¥é™èª­ã¿æ›¿ãˆã¦ãã ã•ã„

## Azure AD å´ã®è¨­å®š
### ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã‹ã‚‰ã®ã‚¢ãƒ—ãƒªè¿½åŠ 
[å…¬å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã® "ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã‹ã‚‰ã® Perforce Helix Core - Helix Authentication Service ã®è¿½åŠ "](https://learn.microsoft.com/ja-jp/azure/active-directory/saas-apps/perforce-helix-core-tutorial#add-perforce-helix-core---helix-authentication-service-from-the-gallery)éƒ¨åˆ†ã®ã‚ˆã†ã«ã€
ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã‹ã‚‰ *Perforce Helix Core - Helix Authentication Service* ã‚’è¿½åŠ ã™ã‚‹.

SSO ã‚’åˆ©ç”¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã™ã‚‹ã‚ˆã†æ§‹æˆã™ã‚‹ãªã‚‰ã°ã€*Users and groups* ã‚ˆã‚Šãƒ¦ãƒ¼ã‚¶ã«ãƒ­ãƒ¼ãƒ«ã‚’å‰²ã‚Šå½“ã¦ã‚‹. ã‚µã‚¤ãƒ³ã‚¤ãƒ³ã§ãã‚‹ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ã§åˆ©ç”¨ã™ã‚‹ãªã‚‰ã°ã€*Properties -> Assignment required?* ã‚’ No ã«ã™ã‚‹. 

### SAML ã®è¨­å®š
[å…¬å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã® Azure AD SSO ã®æ§‹æˆ](https://learn.microsoft.com/ja-jp/azure/active-directory/saas-apps/perforce-helix-core-tutorial#configure-azure-ad-sso) éƒ¨åˆ†ã‚’ã‚„ã‚‹. 

å…·ä½“çš„ã«ã¯ã€*Single sign-on -> SAML* ã‚ˆã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ã«å…¥åŠ›ã™ã‚‹.

- Basic SAML Configuration
  - Identifier (Entity ID) : `https://my-has-svc.example.com/saml`
  - Reply URL (Assertion Consumer Service URL) : `https://my-has-svc.example.com/saml/sso`
  - Sign on URL : `https://my-has-svc.example.com/`

(ã“ã“ ç”»åƒ)

*SAML Certificates* ã‚ˆã‚Šã€`App Federation Metadata Url` ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãŠã.

## Helix Authentication Service ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

## Helix Core ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—



## é–¢é€£è³‡æ–™
- https://learn.microsoft.com/ja-jp/azure/active-directory/saas-apps/perforce-helix-core-tutorial
- 